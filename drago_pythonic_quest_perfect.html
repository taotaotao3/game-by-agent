<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‰ãƒ©ã‚´ãƒ³Pythonicã‚¯ã‚¨ã‚¹ãƒˆï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®å¤§å†’é™º</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .hero-title {
            font-family: 'Orbitron', monospace;
            background: linear-gradient(45deg, #ffd700, #ff6b6b, #4ecdc4, #45b7d1);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease-in-out infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .game-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .map-cell {
            width: 60px;
            height: 60px;
            border: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: linear-gradient(145deg, #f8fafc, #e2e8f0);
        }
        
        .map-cell:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .player {
            background: linear-gradient(145deg, #ffd700, #ffed4e);
            border: 3px solid #d69e2e;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .enemy {
            background: linear-gradient(145deg, #fed7d7, #fc8181);
            border: 2px solid #e53e3e;
            cursor: pointer;
            animation: enemyGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes enemyGlow {
            from { box-shadow: 0 0 5px #e53e3e; }
            to { box-shadow: 0 0 20px #e53e3e, 0 0 30px #e53e3e; }
        }
        
        .terrain {
            background: linear-gradient(145deg, #c6f6d5, #9ae6b4);
        }
        
        .quiz-container {
            background: linear-gradient(145deg, #ffffff, #f7fafc);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            color: #2d3748;
        }
        
        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #4299e1;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        
        .explanation-box {
            background: linear-gradient(145deg, #ebf8ff, #bee3f8);
            border: 2px solid #4299e1;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #2b6cb0;
        }
        
        .btn-primary {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(66, 153, 225, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(145deg, #48bb78, #38a169);
            color: white;
        }
        
        .btn-danger {
            background: linear-gradient(145deg, #f56565, #e53e3e);
            color: white;
        }
        
        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        
        .particle {
            position: absolute;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }
        
        .story-text {
            background: rgba(0, 0, 0, 0.8);
            color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ffd700;
            font-size: 16px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="floating-particles" id="particles"></div>
    
    <!-- ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ -->
    <div id="titleScreen" class="min-h-screen flex items-center justify-center p-6">
        <div class="game-container max-w-4xl w-full p-8 text-center">
            <div class="mb-8">
                <i class="fas fa-dragon text-6xl text-red-500 mb-4"></i>
                <h1 class="hero-title text-6xl font-bold mb-4">
                    DRAGON PYTHONIC QUEST
                </h1>
                <h2 class="text-2xl text-gray-700 mb-6">ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®å¤§å†’é™º</h2>
                <p class="text-lg text-gray-600 mb-8 leading-relaxed">
                    å¤ä»£ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç‹å›½ã«å°å°ã•ã‚Œã—12ã®é‚ªæ‚ªãªãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãŸã¡ã€‚<br>
                    è‹¥ãå‹‡è€…ã‚ˆã€Pythonicãªé­”æ³•ã§ä¸–ç•Œã‚’æ•‘ãˆï¼<br>
                    <span class="text-blue-600 font-semibold">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å­¦ã³ãªãŒã‚‰å†’é™ºã—ã‚ˆã†ï¼</span>
                </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <div class="bg-gradient-to-br from-red-100 to-red-200 p-6 rounded-lg">
                    <i class="fas fa-fire text-3xl text-red-500 mb-3"></i>
                    <h3 class="font-bold text-lg mb-2">12ã®è©¦ç·´</h3>
                    <p class="text-sm text-gray-700">ã‚¯ãƒ©ã‚¹è¨­è¨ˆã‹ã‚‰ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¾ã§</p>
                </div>
                <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-6 rounded-lg">
                    <i class="fas fa-code text-3xl text-blue-500 mb-3"></i>
                    <h3 class="font-bold text-lg mb-2">å®Ÿè·µçš„å­¦ç¿’</h3>
                    <p class="text-sm text-gray-700">æœ¬ç‰©ã®Pythonã‚³ãƒ¼ãƒ‰ã§å­¦ç¿’</p>
                </div>
                <div class="bg-gradient-to-br from-green-100 to-green-200 p-6 rounded-lg">
                    <i class="fas fa-gamepad text-3xl text-green-500 mb-3"></i>
                    <h3 class="font-bold text-lg mb-2">RPGä½“é¨“</h3>
                    <p class="text-sm text-gray-700">ãƒ‰ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯ãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼</p>
                </div>
            </div>
            
            <button onclick="startGame()" class="btn-primary text-xl px-8 py-4 rounded-full">
                <i class="fas fa-play mr-2"></i>
                å†’é™ºã‚’å§‹ã‚ã‚‹
            </button>
        </div>
    </div>

    <!-- ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°ç”»é¢ -->
    <div id="prologueScreen" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="game-container max-w-4xl w-full p-8">
            <div class="story-text mb-8">
                <h2 class="text-2xl font-bold mb-4 text-center text-yellow-400">
                    <i class="fas fa-scroll mr-2"></i>å¤ã®ä¼èª¬
                </h2>
                <p class="mb-4">
                    æ˜”ã€…ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç‹å›½ã«ã¯å¹³å’ŒãŒè¨ªã‚Œã¦ã„ã¾ã—ãŸã€‚
                    ã—ã‹ã—ã€é‚ªæ‚ªãªé­”æ³•ä½¿ã„ãŒç¾ã‚Œã€12ä½“ã®æã‚ã—ã„ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚’å¬å–šã—ãŸã®ã§ã™ã€‚
                </p>
                <p class="mb-4">
                    ã“ã‚Œã‚‰ã®ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã¯ç‹å›½ä¸­ã«æ•£ã‚‰ã°ã‚Šã€è²´é‡ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®çŸ¥è­˜ã‚’é—‡ã«è‘¬ã‚ã†ã¨ã—ã¦ã„ã¾ã™ã€‚
                    ç‚ã®ãƒ‰ãƒ©ã‚´ãƒ³ã¯å›³æ›¸é¤¨ã‚’ã€æ°´ã®ç²¾éœŠã¯çŸ¥è­˜ã®å·ã‚’ã€ãã—ã¦ä»–ã®ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãŸã¡ã‚‚
                    ãã‚Œãã‚Œé‡è¦ãªå ´æ‰€ã‚’è„…ã‹ã—ã¦ã„ã‚‹ã®ã§ã™ã€‚
                </p>
                <p class="mb-4">
                    ä¼èª¬ã«ã‚ˆã‚‹ã¨ã€çœŸã®Pythonicãƒã‚¹ã‚¿ãƒ¼ã®ã¿ãŒã€
                    ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŠ›ã§ã“ã‚Œã‚‰ã®ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚’å€’ã™ã“ã¨ãŒã§ãã‚‹ã¨ã„ã„ã¾ã™ã€‚
                </p>
                <p class="text-center text-yellow-300 font-bold text-lg">
                    è‹¥ãå‹‡è€…ã‚ˆã€ç‹å›½ã‚’æ•‘ã†æ™‚ãŒæ¥ã¾ã—ãŸï¼
                </p>
            </div>
            <div class="text-center">
                <button onclick="showMap()" class="btn-primary text-xl px-8 py-4">
                    <i class="fas fa-sword mr-2"></i>å†’é™ºé–‹å§‹
                </button>
            </div>
        </div>
    </div>

    <!-- ãƒãƒƒãƒ—ç”»é¢ -->
    <div id="mapScreen" class="min-h-screen p-6 hidden">
        <div class="game-container max-w-4xl mx-auto p-8">
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-gray-800 mb-2">
                    <i class="fas fa-map mr-2"></i>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç‹å›½
                </h2>
                <p class="text-gray-600">WASDã‚­ãƒ¼ã§ç§»å‹•ã—ã€ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã«è§¦ã‚Œã¦æˆ¦é—˜é–‹å§‹ï¼</p>
                <div class="mt-4 bg-blue-100 p-3 rounded-lg">
                    <span class="text-blue-800 font-semibold">å€’ã—ãŸãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼: <span id="defeatedCount">0</span>/12</span>
                </div>
            </div>
            
            <div class="flex justify-center mb-6">
                <div id="gameMap" class="grid grid-cols-9 gap-1 p-4 bg-gray-100 rounded-lg">
                    <!-- ãƒãƒƒãƒ—ã¯JavaScriptã§ç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="text-center">
                <div class="bg-gray-100 p-4 rounded-lg">
                    <h3 class="font-bold mb-2">æ“ä½œæ–¹æ³•</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm">
                        <div class="bg-white p-2 rounded">W: ä¸Š</div>
                        <div class="bg-white p-2 rounded">A: å·¦</div>
                        <div class="bg-white p-2 rounded">S: ä¸‹</div>
                        <div class="bg-white p-2 rounded">D: å³</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ‘äººä¼šè©±ç”»é¢ -->
    <div id="villagerScreen" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="game-container max-w-3xl w-full p-8">
            <div id="villagerContent" class="text-center">
                <!-- æ‘äººã®ä¼šè©±å†…å®¹ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
            </div>
        </div>
    </div>

    <!-- ãƒãƒˆãƒ«ç”»é¢ -->
    <div id="battleScreen" class="min-h-screen p-6 hidden">
        <div class="game-container max-w-4xl mx-auto p-8">
            <div id="battleContent">
                <!-- ãƒãƒˆãƒ«å†…å®¹ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
            </div>
        </div>
    </div>

    <!-- çµæœç”»é¢ -->
    <div id="resultScreen" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="game-container max-w-3xl w-full p-8 text-center">
            <div id="resultContent">
                <!-- çµæœå†…å®¹ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
            </div>
        </div>
    </div>

    <!-- ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ç”»é¢ -->
    <div id="gameOverScreen" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="game-container max-w-3xl w-full p-8 text-center">
            <div class="mb-8">
                <i class="fas fa-skull text-6xl text-red-500 mb-4"></i>
                <h2 class="text-4xl font-bold text-red-600 mb-4">ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼</h2>
                <p class="text-lg text-gray-700 mb-6">å‹‡è€…ã¯åŠ›å°½ãã¦ã—ã¾ã„ã¾ã—ãŸ...<br>ã—ã‹ã—ã€å¤±æ•—ã¯æˆåŠŸã®æ¯ï¼å†æŒ‘æˆ¦ã—ã‚ˆã†ï¼</p>
            </div>
            <button onclick="restartGame()" class="btn-primary text-xl px-8 py-4">
                <i class="fas fa-redo mr-2"></i>å†’é™ºå†é–‹
            </button>
        </div>
    </div>

    <!-- ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ -->
    <div id="endingScreen" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="game-container max-w-4xl w-full p-8 text-center">
            <div class="mb-8">
                <i class="fas fa-crown text-6xl text-yellow-500 mb-4"></i>
                <h2 class="hero-title text-4xl font-bold mb-4">CONGRATULATIONS!</h2>
                <div class="story-text">
                    <p class="mb-4">
                        ç´ æ™´ã‚‰ã—ã„ï¼ã™ã¹ã¦ã®ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚’å€’ã—ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç‹å›½ã«å¹³å’ŒãŒæˆ»ã‚Šã¾ã—ãŸï¼
                    </p>
                    <p class="mb-4">
                        ã‚ãªãŸã¯çœŸã®Pythonicãƒã‚¹ã‚¿ãƒ¼ã¨ãªã‚Šã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®
                        å…¨ã¦ã®å¥¥ç¾©ã‚’ç¿’å¾—ã—ã¾ã—ãŸã€‚
                    </p>
                    <p class="text-yellow-300 font-bold text-lg">
                        ä¼èª¬ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®èª•ç”Ÿã§ã™ï¼
                    </p>
                </div>
            </div>
            <button onclick="restartGame()" class="btn-primary text-xl px-8 py-4">
                <i class="fas fa-play mr-2"></i>ã‚‚ã†ä¸€åº¦å†’é™ºã™ã‚‹
            </button>
        </div>
    </div>

    <!-- ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªè¦ç´  -->
    <audio id="bgmCastle" loop>
        <source src="https://cdn1.genspark.ai/user-upload-image/3/fbb2bdd4-c87a-49d9-a051-f78616b9567b.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmField" loop>
        <source src="https://cdn1.genspark.ai/user-upload-image/3/0088f21f-c57d-4676-968f-440cd6160b7e.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmBattle" loop>
        <source src="https://cdn1.genspark.ai/user-upload-image/3/bc225d10-7226-4656-aee6-201cdd976312.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmVictory">
        <source src="https://cdn1.genspark.ai/user-upload-image/3/83456f78-a30f-4a5d-ab05-07f9d391a114.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmDungeon" loop>
        <source src="https://cdn1.genspark.ai/user-upload-image/3/0cbfbef7-124d-48bc-9f31-5f0cd70cfdc0.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmFinalBoss" loop>
        <source src="https://cdn1.genspark.ai/user-upload-image/3/b8a2c1fa-2339-4d46-8293-f2f6d5bdb7f7.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgmGameOver">
        <source src="https://cdn1.genspark.ai/user-upload-image/3/026930d9-7323-427d-97e6-6a13cf5fbcfe.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ã‚²ãƒ¼ãƒ çŠ¶æ…‹
        let gameState = {
            playerPos: { x: 4, y: 4 },
            defeatedEnemies: [],
            currentEnemy: null,
            currentScreen: 'title',
            terrainMap: {} // åœ°å½¢ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
        };

        // ã‚¨ãƒãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿
        const enemies = [
            { id: 1, x: 1, y: 1, type: 'ğŸ”¥', name: 'ç‚ã®ãƒ‰ãƒ©ã‚´ãƒ³', topic: 'ã‚¯ãƒ©ã‚¹ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/a6530ef9-fa65-4d19-8c32-ca3db1eafa8b' },
            { id: 2, x: 7, y: 1, type: 'ğŸ’§', name: 'æ°´ã®ç²¾éœŠ', topic: 'ç¶™æ‰¿ã¨super()', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/7bb67bc0-9071-4d34-80bc-77143642a49c' },
            { id: 3, x: 1, y: 3, type: 'ğŸ—¿', name: 'åœŸã®ã‚´ãƒ¼ãƒ¬ãƒ ', topic: 'ã‚«ãƒ—ã‚»ãƒ«åŒ–ã¨@property', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/11d81f71-1abd-48b1-a7d0-27aff2b71340' },
            { id: 4, x: 7, y: 3, type: 'ğŸŒªï¸', name: 'é¢¨ã®ã‚¬ãƒ¼ã‚´ã‚¤ãƒ«', topic: 'ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/f0b94a99-bd7f-4d09-9e29-18ab434db048' },
            { id: 5, x: 1, y: 5, type: 'âœ¨', name: 'å…‰ã®å¤©ä½¿', topic: 'ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨import', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/ead61a85-7ccd-49c4-a7be-417b59842f3a' },
            { id: 6, x: 7, y: 5, type: 'ğŸŒ‘', name: 'é—‡ã®æ‚ªé­”', topic: 'ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/4e9494fe-09ac-461c-9446-6743f745c31d' },
            { id: 7, x: 1, y: 7, type: 'âš¡', name: 'é›·ã‚¨ãƒ¬ãƒ¡ãƒ³ã‚¿ãƒ«', topic: '@staticmethod/@classmethod', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/e0bdd65c-930c-44fd-a144-4a3a86d23b9e' },
            { id: 8, x: 7, y: 7, type: 'ğŸŒ¿', name: 'æ¯’æ¤ç‰©ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼', topic: 'ä¾‹å¤–å‡¦ç†', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/1875688c-42fc-4a20-a520-02ca24aa5e47' },
            { id: 9, x: 3, y: 1, type: 'ğŸ§Š', name: 'æ°·ã‚¹ãƒ©ã‚¤ãƒ ', topic: 'ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/f742ee7d-1d9c-4076-aa55-00247de09085' },
            { id: 10, x: 5, y: 1, type: 'ğŸ¤–', name: 'æ©Ÿæ¢°ãƒ­ãƒœãƒƒãƒˆ', topic: 'ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/46b60d8b-6ea6-4a1b-8836-a4f172d8c350' },
            { id: 11, x: 3, y: 7, type: 'ğŸ”¥', name: 'ç‚ã®ãƒ‰ãƒ©ã‚´ãƒ³ï¼ˆä¸Šç´šï¼‰', topic: 'ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/7b6b232c-5750-486c-86b8-1d9947904043' },
            { id: 12, x: 5, y: 7, type: 'ğŸ’§', name: 'æ°´ã®ç²¾éœŠï¼ˆä¸Šç´šï¼‰', topic: 'ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼', image: 'https://cdn1.genspark.ai/user-upload-image/22_generated/f120aae7-bb9f-414c-821c-9790dd786554' }
        ];

        // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿
        const quizData = {
            1: {
                question: "æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã§ã€ã‚¯ãƒ©ã‚¹ã®æ­£ã—ã„å®šç¾©æ–¹æ³•ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                code: `# éŠ€è¡Œå£åº§ã‚’è¡¨ã™ã‚¯ãƒ©ã‚¹
class BankAccount:
    def __init__(self, owner, balance=0):
        self.owner = owner
        self.balance = balance
    
    def deposit(self, amount):
        self.balance += amount
        return self.balance`,
                choices: [
                    "ã‚¯ãƒ©ã‚¹åã¯å°æ–‡å­—ã§å§‹ã‚ã‚‹",
                    "ã‚¯ãƒ©ã‚¹åã¯PascalCaseã§æ›¸ã",
                    "ã‚¯ãƒ©ã‚¹åã«ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã‚’ä½¿ã†",
                    "ã‚¯ãƒ©ã‚¹åã¯å‹•è©ã§å§‹ã‚ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼Pythonã§ã¯ã‚¯ãƒ©ã‚¹åã¯PascalCaseï¼ˆå„å˜èªã®æœ€åˆã‚’å¤§æ–‡å­—ï¼‰ã§æ›¸ãã®ãŒæ…£ä¾‹ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¹ã¨é–¢æ•°ã‚’è¦–è¦šçš„ã«åŒºåˆ¥ã§ãã¾ã™ã€‚",
                    wrong: "Pythonã®ã‚¯ãƒ©ã‚¹åã¯PascalCaseã§æ›¸ãã¾ã™ã€‚BankAccountã®ã‚ˆã†ã«ã€å„å˜èªã®æœ€åˆã‚’å¤§æ–‡å­—ã«ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚"
                }
            },
            2: {
                question: "ç¶™æ‰¿ã§super()ã‚’ä½¿ã†æ­£ã—ã„ç†ç”±ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                code: `class Animal:
    def __init__(self, name):
        self.name = name
    
    def speak(self):
        pass

class Dog(Animal):
    def __init__(self, name, breed):
        super().__init__(name)  # ã“ã‚ŒãŒé‡è¦
        self.breed = breed
    
    def speak(self):
        return f"{self.name}ãŒãƒ¯ãƒ³ã¨é³´ãã¾ã—ãŸ"`,
                choices: [
                    "è¦ªã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Œå…¨ã«ç„¡è¦–ã™ã‚‹ãŸã‚",
                    "è¦ªã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã€ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’é¿ã‘ã‚‹ãŸã‚",
                    "å­ã‚¯ãƒ©ã‚¹ã§ã®ã¿å‹•ä½œã•ã›ã‚‹ãŸã‚",
                    "ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ãŸã‚"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼super()ã¯è¦ªã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã€ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’é¿ã‘ã€ä¿å®ˆæ€§ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚è¦ªã‚¯ãƒ©ã‚¹ã®å®Ÿè£…ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€å­ã‚¯ãƒ©ã‚¹ã¯è‡ªå‹•çš„ã«æ©æµã‚’å—ã‘ã¾ã™ã€‚",
                    wrong: "super()ã¯è¦ªã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¦ªã‚¯ãƒ©ã‚¹ã®åˆæœŸåŒ–å‡¦ç†ã‚’å†åˆ©ç”¨ã—ã€DRYåŸå‰‡ï¼ˆDon't Repeat Yourselfï¼‰ã‚’å®ˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚"
                }
            },
            3: {
                question: "@propertyãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä¸»ãªåˆ©ç‚¹ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                code: `class BankAccount:
    def __init__(self, initial_balance=0):
        self.__balance = initial_balance
    
    @property
    def balance(self):
        """æ®‹é«˜ã‚’å–å¾—ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"""
        return self.__balance
    
    def deposit(self, amount):
        if amount > 0:
            self.__balance += amount`,
                choices: [
                    "å±æ€§ã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹",
                    "ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å±æ€§ã®ã‚ˆã†ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã€ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ä¿ã¤",
                    "ã‚¯ãƒ©ã‚¹ã‚’ç¶™æ‰¿å¯èƒ½ã«ã™ã‚‹",
                    "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼@propertyã«ã‚ˆã‚Šã€ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å±æ€§ã®ã‚ˆã†ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ï¼ˆæ‹¬å¼§ãªã—ï¼‰ã€‚ã¾ãŸã€å†…éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚’ä¿è­·ã—ãªãŒã‚‰ã€å¿…è¦ã«å¿œã˜ã¦è¨ˆç®—ã‚„æ¤œè¨¼ã‚’è¡Œãˆã¾ã™ã€‚",
                    wrong: "@propertyãŒãªã„ã¨ã€balanceã¯é€šå¸¸ã®ãƒ¡ã‚½ãƒƒãƒ‰ã«ãªã‚Šã€account.balance()ã®ã‚ˆã†ã«æ‹¬å¼§ä»˜ãã§å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚@propertyã«ã‚ˆã‚Šã€è‡ªç„¶ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã§ãã¾ã™ã€‚"
                }
            },
            4: {
                question: "ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã®æœ€å¤§ã®åˆ©ç‚¹ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                code: `class Animal:
    def make_sound(self):
        pass

class Dog(Animal):
    def make_sound(self):
        return "ãƒ¯ãƒ³"

class Cat(Animal):
    def make_sound(self):
        return "ãƒ‹ãƒ£ãƒ¼"

# ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã®æ´»ç”¨
animals = [Dog(), Cat()]
for animal in animals:
    print(animal.make_sound())  # åŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹`,
                choices: [
                    "ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œé€Ÿåº¦ãŒå‘ä¸Šã™ã‚‹",
                    "ç•°ãªã‚‹ã‚¯ãƒ©ã‚¹ã‚’åŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æ‰±ãˆã€æ‹¡å¼µæ€§ãŒå‘ä¸Šã™ã‚‹",
                    "ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå‰Šæ¸›ã•ã‚Œã‚‹",
                    "ã‚¨ãƒ©ãƒ¼ãŒå®Œå…¨ã«ç„¡ããªã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã«ã‚ˆã‚Šã€ç•°ãªã‚‹ã‚¯ãƒ©ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’çµ±ä¸€çš„ã«æ‰±ãˆã¾ã™ã€‚æ–°ã—ã„å‹•ç‰©ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—ã¦ã‚‚ã€æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
                    wrong: "ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ãªã—ã§ã¯ã€å‹•ç‰©ã®ç¨®é¡ã”ã¨ã«ifæ–‡ã§åˆ†å²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ–°ã—ã„å‹•ç‰©ã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ã€æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªã‘ã‚Œã°ãªã‚‰ãšã€ä¿å®ˆæ€§ãŒä½ä¸‹ã—ã¾ã™ã€‚"
                }
            },
            5: {
                question: "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†ä¸»ãªç†ç”±ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                code: `# math_utils.py
def calculate_area(radius):
    import math
    return math.pi * radius ** 2

# main.py
from math_utils import calculate_area

result = calculate_area(5)
print(f"é¢ç©: {result}")`,
                choices: [
                    "ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œé€Ÿåº¦ã‚’ä¸Šã’ã‚‹",
                    "ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã—ã€å†åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹",
                    "ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•ä¿®æ­£ã™ã‚‹",
                    "ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’å‰Šæ¸›ã™ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚Šã€é–¢é€£ã™ã‚‹æ©Ÿèƒ½ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã€ã‚³ãƒ¼ãƒ‰ã®æ•´ç†ã¨å†åˆ©ç”¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€åå‰ç©ºé–“ã‚’åˆ†é›¢ã—ã€åå‰ã®è¡çªã‚’é˜²ã’ã¾ã™ã€‚",
                    wrong: "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã‚ãšã«ã™ã¹ã¦ã‚’ä¸€ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãã¨ã€ã‚³ãƒ¼ãƒ‰ãŒé•·å¤§ã«ãªã‚Šã€ä¿å®ˆãŒå›°é›£ã«ãªã‚Šã¾ã™ã€‚é–¢é€£ã™ã‚‹æ©Ÿèƒ½ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«åˆ†ã‘ã‚‹ã“ã¨ã§ã€ç®¡ç†ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚"
                }
            },
            6: {
                question: "__str__ãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                code: `class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def __str__(self):
        return f"{self.name}ã•ã‚“ï¼ˆ{self.age}æ­³ï¼‰"
    
    def __eq__(self, other):
        return self.name == other.name and self.age == other.age

person = Person("ç”°ä¸­", 25)
print(person)  # __str__ãŒå‘¼ã°ã‚Œã‚‹`,
                choices: [
                    "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã™ã‚‹",
                    "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ–‡å­—åˆ—è¡¨ç¾ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹",
                    "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹",
                    "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ã‚’å¤‰æ›´ã™ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼__str__ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚Šã€print()ã‚„str()ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹éš›ã®æ–‡å­—åˆ—è¡¨ç¾ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚ã‹ã‚Šã‚„ã™ã„å‡ºåŠ›ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚",
                    wrong: "__str__ãŒãªã„ã¨ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’print()ã—ãŸéš›ã«<__main__.Person object at 0x...>ã®ã‚ˆã†ãªã€ã‚ã‹ã‚Šã«ãã„è¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚__str__ã§äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ã‚’å®šç¾©ã§ãã¾ã™ã€‚"
                }
            },
            7: {
                question: "@staticmethodã®æ­£ã—ã„ä½¿ç”¨å ´é¢ã¯ï¼Ÿ",
                code: `class MathUtils:
    @staticmethod
    def add(a, b):
        return a + b
    
    @classmethod
    def create_calculator(cls):
        return cls()
    
    def instance_method(self):
        return "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰"

# ä½¿ç”¨ä¾‹
result = MathUtils.add(3, 5)  # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦`,
                choices: [
                    "å¿…ãšselfãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¿…è¦ãªå‡¦ç†",
                    "ã‚¯ãƒ©ã‚¹ã«é–¢é€£ã™ã‚‹ãŒã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã‚ãªã„å‡¦ç†",
                    "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã‚’å¤‰æ›´ã™ã‚‹å‡¦ç†",
                    "ç¶™æ‰¿ã§ã®ã¿ä½¿ç”¨ã•ã‚Œã‚‹å‡¦ç†"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼@staticmethodã¯ã€ã‚¯ãƒ©ã‚¹ã«é–¢é€£ã™ã‚‹ãŒã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã‚ãªã„å‡¦ç†ã«ä½¿ç”¨ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã›ãšã«å‘¼ã³å‡ºã›ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã«é©ã—ã¦ã„ã¾ã™ã€‚",
                    wrong: "@staticmethodãªã—ã§ã¯ã€ä¸è¦ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€selfãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒä¸è¦ãªã®ã«å¿…è¦ã«ãªã‚Šã€ãƒ¡ã‚½ãƒƒãƒ‰ã®æ„å›³ãŒä¸æ˜ç¢ºã«ãªã‚Šã¾ã™ã€‚"
                }
            },
            8: {
                question: "try-exceptæ–‡ã®é©åˆ‡ãªä½¿ç”¨æ–¹æ³•ã¯ï¼Ÿ",
                code: `def safe_divide(a, b):
    try:
        result = a / b
        return result
    except ZeroDivisionError:
        print("ã‚¼ãƒ­ã§å‰²ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“")
        return None
    except TypeError:
        print("æ•°å€¤ä»¥å¤–ã¯è¨ˆç®—ã§ãã¾ã›ã‚“")
        return None
    finally:
        print("è¨ˆç®—å‡¦ç†å®Œäº†")

print(safe_divide(10, 2))  # 5.0
print(safe_divide(10, 0))  # None`,
                choices: [
                    "ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ã‚’tryãƒ–ãƒ­ãƒƒã‚¯ã«å…¥ã‚Œã‚‹",
                    "ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ã‚’äºˆæƒ³ã—ã€é©åˆ‡ã«å‡¦ç†ã™ã‚‹",
                    "ã‚¨ãƒ©ãƒ¼ã‚’å®Œå…¨ã«éš ã™",
                    "ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸã‚‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†ã™ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼try-exceptæ–‡ã¯ã€äºˆæƒ³ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«å‡¦ç†ã—ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®‰å®šæ€§ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚å…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼å‹ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€çš„ç¢ºãªå¯¾å¿œãŒã§ãã¾ã™ã€‚",
                    wrong: "ä¾‹å¤–å‡¦ç†ãªã—ã§ã¯ã€ã‚¼ãƒ­é™¤ç®—ãªã©ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚é©åˆ‡ãªä¾‹å¤–å‡¦ç†ã«ã‚ˆã‚Šã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ç¶šè¡Œã§ãã¾ã™ã€‚"
                }
            },
            9: {
                question: "ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®åˆ©ç‚¹ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                code: `class NumberSequence:
    def __init__(self, max_num):
        self.max_num = max_num
    
    def __iter__(self):
        self.current = 0
        return self
    
    def __next__(self):
        if self.current < self.max_num:
            self.current += 1
            return self.current
        raise StopIteration

# ä½¿ç”¨ä¾‹
for num in NumberSequence(5):
    print(num)  # 1, 2, 3, 4, 5`,
                choices: [
                    "ãƒ¡ãƒ¢ãƒªã‚’å¤§é‡ã«æ¶ˆè²»ã™ã‚‹",
                    "ä¸€åº¦ã«å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿æŒã›ãšã€å¿…è¦ãªæ™‚ã«ç”Ÿæˆã™ã‚‹",
                    "è¨ˆç®—é€Ÿåº¦ãŒé…ããªã‚‹",
                    "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã‚„ã™ããªã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯å¿…è¦ãªæ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ãã€å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†éš›ã«å¨åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚Pythonã‚‰ã—ã„æ›¸ãæ–¹ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚",
                    wrong: "ãƒªã‚¹ãƒˆç­‰ã§å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€åº¦ã«ç”Ÿæˆã™ã‚‹ã¨ã€å¤§é‡ã®ãƒ¡ãƒ¢ãƒªã‚’æ¶ˆè²»ã—ã¾ã™ã€‚ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ãªã‚‰ã€å¿…è¦ãªåˆ†ã ã‘ç”Ÿæˆã™ã‚‹ãŸã‚ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã™ã€‚"
                }
            },
            10: {
                question: "ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸»ãªç›®çš„ã¯ï¼Ÿ",
                code: `def log_calls(func):
    def wrapper(*args, **kwargs):
        print(f"{func.__name__}ãŒå‘¼ã°ã‚Œã¾ã—ãŸ")
        result = func(*args, **kwargs)
        print(f"{func.__name__}ãŒå®Œäº†ã—ã¾ã—ãŸ")
        return result
    return wrapper

@log_calls
def calculate(x, y):
    return x + y

result = calculate(3, 5)  # ãƒ­ã‚°å‡ºåŠ›ä»˜ãã§è¨ˆç®—`,
                choices: [
                    "é–¢æ•°ã‚’å‰Šé™¤ã™ã‚‹",
                    "æ—¢å­˜ã®é–¢æ•°ã«æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹",
                    "é–¢æ•°ã®å®Ÿè¡Œã‚’åœæ­¢ã™ã‚‹",
                    "é–¢æ•°ã‚’è¤‡è£½ã™ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯æ—¢å­˜ã®é–¢æ•°ã‚’å¤‰æ›´ã›ãšã«ã€æ–°ã—ã„æ©Ÿèƒ½ï¼ˆãƒ­ã‚°ã€èªè¨¼ã€è¨ˆæ¸¬ãªã©ï¼‰ã‚’è¿½åŠ ã§ãã¾ã™ã€‚é–¢æ•°ã®æœ¬æ¥ã®å‡¦ç†ã‚’ä¿æŒã—ãªãŒã‚‰ã€æ©Ÿèƒ½ã‚’æ‹¡å¼µã§ãã¾ã™ã€‚",
                    wrong: "ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãªã—ã§ã¯ã€å„é–¢æ•°ã«ãƒ­ã‚°å‡¦ç†ã‚’æ‰‹å‹•ã§è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ãŒç™ºç”Ÿã—ã¾ã™ã€‚ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ã‚ˆã‚Šã€æ¨ªæ–­çš„ãªé–¢å¿ƒäº‹ã‚’åŠ¹ç‡çš„ã«å‡¦ç†ã§ãã¾ã™ã€‚"
                }
            },
            11: {
                question: "ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç”¨é€”ã¯ï¼Ÿ",
                code: `class DatabaseConnection:
    _instance = None
    
    def __new__(cls):
        if cls._instance is None:
            cls._instance = super().__new__(cls)
            cls._instance.connection = "DBæ¥ç¶šç¢ºç«‹"
        return cls._instance
    
    def query(self, sql):
        return f"å®Ÿè¡Œ: {sql}"

# åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒè¿”ã•ã‚Œã‚‹
db1 = DatabaseConnection()
db2 = DatabaseConnection()
print(db1 is db2)  # True`,
                choices: [
                    "è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹",
                    "ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä¸€ã¤ã ã‘ã«åˆ¶é™ã™ã‚‹",
                    "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‰Šé™¤ã™ã‚‹",
                    "ç¶™æ‰¿ã‚’ç¦æ­¢ã™ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä¸€ã¤ã ã‘ã«åˆ¶é™ã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã€ãƒ­ã‚°å‡ºåŠ›ã€è¨­å®šç®¡ç†ãªã©ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ä¸€ã¤ã§ã‚ã‚‹ã¹ããƒªã‚½ãƒ¼ã‚¹ã«ä½¿ç”¨ã—ã¾ã™ã€‚",
                    wrong: "ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãªã—ã§ã¯ã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚„ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã€ãƒªã‚½ãƒ¼ã‚¹ã®ç„¡é§„é£ã„ã‚„è¨­å®šã®ä¸æ•´åˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚"
                }
            },
            12: {
                question: "ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹ã¯ï¼Ÿ",
                code: `class AnimalFactory:
    @staticmethod
    def create_animal(animal_type):
        if animal_type == "dog":
            return Dog()
        elif animal_type == "cat":
            return Cat()
        else:
            raise ValueError("æœªçŸ¥ã®å‹•ç‰©ã‚¿ã‚¤ãƒ—")

class Dog:
    def speak(self):
        return "ãƒ¯ãƒ³"

class Cat:
    def speak(self):
        return "ãƒ‹ãƒ£ãƒ¼"

# ä½¿ç”¨ä¾‹
animal = AnimalFactory.create_animal("dog")
print(animal.speak())`,
                choices: [
                    "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤ã‚’è‡ªå‹•åŒ–ã™ã‚‹",
                    "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¸€ç®‡æ‰€ã«é›†ç´„ã—ã€æŸ”è»Ÿæ€§ã‚’å‘ä¸Šã™ã‚‹",
                    "ç¶™æ‰¿ã‚’ç¦æ­¢ã™ã‚‹",
                    "ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’å‰Šæ¸›ã™ã‚‹"
                ],
                correct: 1,
                explanation: {
                    correct: "æ­£è§£ï¼ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆã®è¤‡é›‘ã•ã‚’éš è”½ã—ã€ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¸€ç®‡æ‰€ã«é›†ç´„ã—ã¾ã™ã€‚æ–°ã—ã„ã‚¯ãƒ©ã‚¹ã®è¿½åŠ ã‚„å¤‰æ›´ãŒå®¹æ˜“ã«ãªã‚Šã€ä¿å®ˆæ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚",
                    wrong: "ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã—ã§ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ãŒå…·ä½“çš„ãªã‚¯ãƒ©ã‚¹åã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã€æ–°ã—ã„ã‚¯ãƒ©ã‚¹ãŒè¿½åŠ ã•ã‚Œã‚‹ãŸã³ã«å¤šãã®å ´æ‰€ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
                }
            }
        };

        // ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿
        const storyData = {
            1: {
                request: "åŠ©ã‘ã¦ï¼ç‚ã®ãƒ‰ãƒ©ã‚´ãƒ³ãŒå¤ä»£ã®å›³æ›¸é¤¨ã‚’è¥²ã£ã¦ã„ã¾ã™ï¼è²´é‡ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ›¸ç±ãŒç‡ƒãˆã¦ã—ã¾ã„ã¾ã™ï¼ã‚¯ãƒ©ã‚¹è¨­è¨ˆã®ç§˜ä¼æ›¸ã‚’å®ˆã£ã¦ãã ã•ã„ï¼",
                thanks: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ãŠã‹ã’ã§è²´é‡ãªã€ã‚¯ãƒ©ã‚¹è¨­è¨ˆã®ç§˜ä¼æ›¸ã€ãŒæ•‘ã‚ã‚Œã¾ã—ãŸï¼ã“ã‚Œã§æ‘ã®è‹¥ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŸã¡ãŒå­¦ç¿’ã‚’ç¶šã‘ã‚‰ã‚Œã¾ã™ï¼"
            },
            2: {
                request: "æ°´ã®ç²¾éœŠãŒçŸ¥è­˜ã®å·ã‚’æ°¾æ¿«ã•ã›ã¦ã„ã¾ã™ï¼æ‘ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒæ°´æ²¡ã—ãã†ã§ã™ï¼ç¶™æ‰¿ã®å¤æ–‡æ›¸ãŒå¤±ã‚ã‚Œã¦ã—ã¾ã„ã¾ã™ï¼",
                thanks: "ç´ æ™´ã‚‰ã—ã„ï¼å·ãŒå…ƒã«æˆ»ã‚Šã€ã€ç¶™æ‰¿ã®å¤æ–‡æ›¸ã€ãŒå®ˆã‚‰ã‚Œã¾ã—ãŸï¼super()ã®ç§˜å¯†ãŒã¾ãŸèª­ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼"
            },
            3: {
                request: "åœŸã®ã‚´ãƒ¼ãƒ¬ãƒ ãŒç§˜å¯†ã®æ´çªŸã‚’å°å°ã—ã¦ã—ã¾ã„ã¾ã—ãŸï¼ä¸­ã«ã¯ã‚«ãƒ—ã‚»ãƒ«åŒ–ã®ç§˜å®ãŒçœ ã£ã¦ã„ã‚‹ã®ã§ã™ï¼@propertyã®ç¥å™¨ã‚’å–ã‚Šæˆ»ã—ã¦ãã ã•ã„ï¼",
                thanks: "ã‚„ã‚Šã¾ã—ãŸï¼æ´çªŸãŒé–‹ãã€ã€@propertyã®ç¥å™¨ã€ã‚’ç™ºè¦‹ã—ã¾ã—ãŸï¼ã“ã‚Œã§å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®æ–¹æ³•ã‚’å­¦ã¹ã¾ã™ï¼"
            },
            4: {
                request: "é¢¨ã®ã‚¬ãƒ¼ã‚´ã‚¤ãƒ«ãŒç ”ç©¶æ‰€ã‚’åµã§åŒ…ã‚“ã§ã„ã¾ã™ï¼ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã®ç ”ç©¶è³‡æ–™ãŒå–ã‚Šå‡ºã›ã¾ã›ã‚“ï¼å¤šæ…‹æ€§ã®è¬ã‚’è§£ãæ˜ã‹ã—ã¦ãã ã•ã„ï¼",
                thanks: "åµãŒå»ã‚Šã¾ã—ãŸï¼ã€å¤šæ…‹æ€§ã®ç ”ç©¶ãƒãƒ¼ãƒˆã€ãŒæ‰‹ã«å…¥ã‚Šã¾ã—ãŸï¼ã“ã‚Œã§ç•°ãªã‚‹ã‚¯ãƒ©ã‚¹ã‚’çµ±ä¸€çš„ã«æ‰±ã†æ–¹æ³•ãŒã‚ã‹ã‚Šã¾ã™ï¼"
            },
            5: {
                request: "å…‰ã®å¤©ä½¿ãŒç¥æ®¿ã‚’çœ©ã—ã„å…‰ã§åŒ…ã‚“ã§ã„ã¾ã™ï¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆã®è–å…¸ãŒèª­ã‚ã¾ã›ã‚“ï¼importæ–‡ã®ç§˜å¯†ã‚’æ•™ãˆã¦ãã ã•ã„ï¼",
                thanks: "å…‰ãŒå’Œã‚‰ãã¾ã—ãŸï¼ã€importæ–‡ã®è–å…¸ã€ãŒèª­ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼ã‚³ãƒ¼ãƒ‰ã®æ•´ç†æ–¹æ³•ãŒç†è§£ã§ãã¾ã—ãŸï¼"
            },
            6: {
                request: "é—‡ã®æ‚ªé­”ãŒé­”æ³•å­¦é™¢ã‚’é—‡ã§åŒ…ã‚“ã§ã„ã¾ã™ï¼ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰ã®ç§˜å¯†ãŒé—‡ã«é£²ã¾ã‚Œã¦ã„ã¾ã™ï¼ãƒã‚¸ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã®åŠ›ã‚’ç¤ºã—ã¦ãã ã•ã„ï¼",
                thanks: "é—‡ãŒæ™´ã‚Œã¾ã—ãŸï¼ã€ãƒã‚¸ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã®é­”å°æ›¸ã€ãŒè˜‡ã‚Šã¾ã—ãŸï¼__str__ã¨__eq__ã®åŠ›ã‚’ç†è§£ã—ã¾ã—ãŸï¼"
            },
            7: {
                request: "é›·ã‚¨ãƒ¬ãƒ¡ãƒ³ã‚¿ãƒ«ãŒå®Ÿé¨“å®¤ã‚’é›·ã§ç ´å£Šã—ã¦ã„ã¾ã™ï¼é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ãŒå±é™ºã§ã™ï¼@staticmethodã®çŸ¥è­˜ã§åŠ©ã‘ã¦ãã ã•ã„ï¼",
                thanks: "é›·ãŒæ­¢ã¿ã¾ã—ãŸï¼ã€@staticmethodã®å®Ÿé¨“ãƒãƒ¼ãƒˆã€ãŒç„¡äº‹ã§ã—ãŸï¼ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®ä½¿ã„æ–¹ãŒã‚ã‹ã‚Šã¾ã—ãŸï¼"
            },
            8: {
                request: "æ¯’æ¤ç‰©ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãŒè–¬è‰åœ’ã‚’æ¯’ã§æ±šæŸ“ã—ã¦ã„ã¾ã™ï¼ä¾‹å¤–å‡¦ç†ã®è–¬è‰ãŒæ¯ã‚Œã¦ã—ã¾ã„ã¾ã™ï¼try-exceptæ–‡ã§æ¯’ã‚’æµ„åŒ–ã—ã¦ãã ã•ã„ï¼",
                thanks: "æ¯’ãŒæµ„åŒ–ã•ã‚Œã¾ã—ãŸï¼ã€try-exceptæ–‡ã®è–¬è‰ã€ãŒå¾©æ´»ã—ã¾ã—ãŸï¼ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§ã‚’å­¦ã³ã¾ã—ãŸï¼"
            },
            9: {
                request: "æ°·ã‚¹ãƒ©ã‚¤ãƒ ãŒå·¥æˆ¿ã‚’æ°·ã§é–‰ã–ã—ã¦ã„ã¾ã™ï¼ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®è¨­è¨ˆå›³ãŒå‡ã‚Šã¤ã„ã¦ã„ã¾ã™ï¼åå¾©å‡¦ç†ã®åŠ›ã§æ°·ã‚’æº¶ã‹ã—ã¦ãã ã•ã„ï¼",
                thanks: "æ°·ãŒæº¶ã‘ã¾ã—ãŸï¼ã€åå¾©å­ã®è¨­è¨ˆå›³ã€ãŒè§£å‡ã•ã‚Œã¾ã—ãŸï¼ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®è‰¯ã„å‡¦ç†æ–¹æ³•ã‚’å­¦ã³ã¾ã—ãŸï¼"
            },
            10: {
                request: "æ©Ÿæ¢°ãƒ­ãƒœãƒƒãƒˆãŒå·¥å ´ã‚’æš´èµ°ã•ã›ã¦ã„ã¾ã™ï¼ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®è£½é€ ãƒ©ã‚¤ãƒ³ãŒæ­¢ã¾ã‚Šã¾ã›ã‚“ï¼é–¢æ•°è£…é£¾ã®çŸ¥è­˜ã§åˆ¶å¾¡ã—ã¦ãã ã•ã„ï¼",
                thanks: "å·¥å ´ãŒæ­£å¸¸åŒ–ã—ã¾ã—ãŸï¼ã€ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨­è¨ˆæ›¸ã€ãŒå®Œæˆã—ã¾ã—ãŸï¼é–¢æ•°ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã‚’ç†è§£ã—ã¾ã—ãŸï¼"
            },
            11: {
                request: "ç‚ã®å¤ç«œãŒç‹åŸã‚’è¥²æ’ƒã—ã¦ã„ã¾ã™ï¼ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®ç‹å† ãŒç‹™ã‚ã‚Œã¦ã„ã¾ã™ï¼ä¸€ã¤ã ã‘ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ç‹å›½ã‚’å®ˆã£ã¦ãã ã•ã„ï¼",
                thanks: "ç‹åŸãŒæ•‘ã‚ã‚Œã¾ã—ãŸï¼ã€å”¯ä¸€ç„¡äºŒã®ç‹å† ã€ã‚’å®ˆã‚ŠæŠœãã¾ã—ãŸï¼ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ä¸€ã¤ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ãŸï¼"
            },
            12: {
                request: "æ°´ã®å‰µé€ ç¥ãŒç¥æ®¿ã‚’è©¦ç·´ã®å ´ã«ã—ã¦ã„ã¾ã™ï¼ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¥å™¨ãŒè©¦ã•ã‚Œã¦ã„ã¾ã™ï¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆã®å¥¥ç¾©ã‚’ç¤ºã—ã¦ãã ã•ã„ï¼",
                thanks: "ç¥ã®è©¦ç·´ã‚’ä¹—ã‚Šè¶Šãˆã¾ã—ãŸï¼ã€å‰µé€ ã®ç¥å™¨ã€ãŒã‚ãªãŸã‚’çœŸã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã¨èªã‚ã¾ã—ãŸï¼æŸ”è»Ÿãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆã®æ–¹æ³•ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸï¼"
            }
        };

        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«åŠ¹æœ
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 10 + 5 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // BGMç®¡ç†
        function playBGM(bgmId) {
            // å…¨ã¦ã®éŸ³æ¥½ã‚’åœæ­¢
            ['bgmCastle', 'bgmField', 'bgmBattle', 'bgmVictory', 'bgmDungeon', 'bgmFinalBoss', 'bgmGameOver'].forEach(id => {
                const audio = document.getElementById(id);
                audio.pause();
                audio.currentTime = 0;
            });
            
            // æŒ‡å®šã•ã‚ŒãŸéŸ³æ¥½ã‚’å†ç”Ÿ
            if (bgmId) {
                const audio = document.getElementById(bgmId);
                audio.volume = 0.5;
                audio.play().catch(e => console.log('Audio play failed:', e));
            }
        }

        // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ
        function showScreen(screenId) {
            const screens = ['titleScreen', 'prologueScreen', 'mapScreen', 'villagerScreen', 'battleScreen', 'resultScreen', 'gameOverScreen', 'endingScreen'];
            screens.forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(screenId).classList.remove('hidden');
            gameState.currentScreen = screenId;
        }

        // ã‚²ãƒ¼ãƒ é–‹å§‹
        function startGame() {
            showScreen('prologueScreen');
            playBGM('bgmCastle');
        }

        // ãƒãƒƒãƒ—è¡¨ç¤º
        function showMap() {
            showScreen('mapScreen');
            playBGM('bgmField');
            createMap();
            updateDefeatedCount();
        }

        // ãƒãƒƒãƒ—ä½œæˆ
        function createMap() {
            const mapElement = document.getElementById('gameMap');
            mapElement.innerHTML = '';
            
            const mapSize = 9;
            for (let y = 0; y < mapSize; y++) {
                for (let x = 0; x < mapSize; x++) {
                    const cell = document.createElement('div');
                    cell.className = 'map-cell';
                    
                    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½ç½®
                    if (x === gameState.playerPos.x && y === gameState.playerPos.y) {
                        cell.classList.add('player');
                        cell.innerHTML = 'âš”ï¸';
                    }
                    // æ•µã®ä½ç½®
                    else {
                        const enemy = enemies.find(e => e.x === x && e.y === y && !gameState.defeatedEnemies.includes(e.id));
                        if (enemy) {
                            cell.classList.add('enemy');
                            cell.innerHTML = enemy.type;
                        }
                        // åœ°å½¢
                        else if ((x + y) % 3 === 0) {
                            cell.classList.add('terrain');
                            // åœ°å½¢ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ç”Ÿæˆã—ã¦ä¿å­˜
                            const key = `${x},${y}`;
                            if (!gameState.terrainMap[key]) {
                                const terrainTypes = ['ğŸŒ²', 'â›°ï¸', 'ğŸŒŠ'];
                                gameState.terrainMap[key] = terrainTypes[Math.floor(Math.random() * 3)];
                            }
                            // ä¿å­˜ã•ã‚ŒãŸåœ°å½¢ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
                            cell.innerHTML = gameState.terrainMap[key];
                        }
                        else {
                            cell.innerHTML = '';
                        }
                    }
                    
                    mapElement.appendChild(cell);
                }
            }
        }

        // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç§»å‹•
        function movePlayer(dx, dy) {
            const newX = gameState.playerPos.x + dx;
            const newY = gameState.playerPos.y + dy;
            
            // å¢ƒç•Œãƒã‚§ãƒƒã‚¯
            if (newX >= 0 && newX < 9 && newY >= 0 && newY < 9) {
                gameState.playerPos.x = newX;
                gameState.playerPos.y = newY;
                createMap();
                
                // æ•µã¨ã®é­é‡ãƒã‚§ãƒƒã‚¯
                const enemy = enemies.find(e => 
                    e.x === newX && e.y === newY && 
                    !gameState.defeatedEnemies.includes(e.id)
                );
                
                if (enemy) {
                    setTimeout(() => showVillagerDialog(enemy), 500);
                }
            }
        }

        // æ‘äººä¼šè©±è¡¨ç¤º
        function showVillagerDialog(enemy) {
            gameState.currentEnemy = enemy;
            const story = storyData[enemy.id];
            
            showScreen('villagerScreen');
            playBGM('bgmDungeon');
            
            document.getElementById('villagerContent').innerHTML = `
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">ğŸ‘¨â€ğŸŒ¾</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">${enemy.name}ã®è„…å¨</h2>
                </div>
                <div class="story-text mb-8">
                    <p class="text-lg leading-relaxed">${story.request}</p>
                </div>
                <div class="text-center space-x-4">
                    <button onclick="startBattle()" class="btn-success px-6 py-3">
                        <i class="fas fa-sword mr-2"></i>åŠ©ã‘ã«è¡Œã
                    </button>
                    <button onclick="showMap()" class="btn-primary px-6 py-3">
                        <i class="fas fa-step-backward mr-2"></i>å¾Œã§
                    </button>
                </div>
            `;
        }

        // ãƒãƒˆãƒ«é–‹å§‹
        function startBattle() {
            showScreen('battleScreen');
            playBGM('bgmBattle');
            
            const enemy = gameState.currentEnemy;
            const quiz = quizData[enemy.id];
            
            document.getElementById('battleContent').innerHTML = `
                <div class="text-center mb-6">
                    <img src="${enemy.image}" alt="${enemy.name}" class="w-32 h-32 mx-auto rounded-lg mb-4 shadow-lg">
                    <h2 class="text-3xl font-bold text-red-600 mb-2">${enemy.name}</h2>
                    <p class="text-lg text-gray-700">ãƒ†ãƒ¼ãƒ: ${enemy.topic}</p>
                </div>
                
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-4 text-blue-800">${quiz.question}</h3>
                    
                    <div class="code-block mb-6">
${quiz.code}
                    </div>
                    
                    <div class="space-y-3">
                        ${quiz.choices.map((choice, index) => `
                            <button onclick="answerQuiz(${index})" 
                                    class="w-full p-4 text-left bg-white border-2 border-gray-200 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-all">
                                ${index + 1}. ${choice}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // ã‚¯ã‚¤ã‚ºå›ç­”
        function answerQuiz(selectedIndex) {
            const enemy = gameState.currentEnemy;
            const quiz = quizData[enemy.id];
            const isCorrect = selectedIndex === quiz.correct;
            
            playBGM(null); // éŸ³æ¥½åœæ­¢
            
            if (isCorrect) {
                playBGM('bgmVictory');
                gameState.defeatedEnemies.push(enemy.id);
                showResult(true, quiz.explanation.correct);
            } else {
                playBGM('bgmGameOver');
                showResult(false, quiz.explanation.wrong);
            }
        }

        // çµæœè¡¨ç¤º
        function showResult(isCorrect, explanation) {
            showScreen('resultScreen');
            
            if (isCorrect) {
                const story = storyData[gameState.currentEnemy.id];
                document.getElementById('resultContent').innerHTML = `
                    <div class="text-center mb-8">
                        <i class="fas fa-trophy text-6xl text-yellow-500 mb-4"></i>
                        <h2 class="text-3xl font-bold text-green-600 mb-4">å‹åˆ©ï¼</h2>
                        <div class="text-4xl mb-4">${gameState.currentEnemy.type}</div>
                        <p class="text-xl text-green-700 mb-6">${gameState.currentEnemy.name}ã‚’å€’ã—ã¾ã—ãŸï¼</p>
                    </div>
                    
                    <div class="explanation-box mb-6">
                        <h3 class="font-bold text-lg mb-3">è§£èª¬</h3>
                        <p>${explanation}</p>
                    </div>
                    
                    <div class="story-text mb-8">
                        <p class="text-lg">${story.thanks}</p>
                    </div>
                    
                    <div class="text-center">
                        <button onclick="continueAdventure()" class="btn-success text-xl px-8 py-4">
                            <i class="fas fa-map mr-2"></i>ãƒãƒƒãƒ—ã¸æˆ»ã‚‹
                        </button>
                    </div>
                `;
            } else {
                document.getElementById('resultContent').innerHTML = `
                    <div class="text-center mb-8">
                        <i class="fas fa-times-circle text-6xl text-red-500 mb-4"></i>
                        <h2 class="text-3xl font-bold text-red-600 mb-4">æ•—åŒ—...</h2>
                        <p class="text-xl text-red-700 mb-6">å‹‡è€…ã¯åŠ›å°½ãã¦ã—ã¾ã„ã¾ã—ãŸ</p>
                    </div>
                    
                    <div class="explanation-box mb-8">
                        <h3 class="font-bold text-lg mb-3">è§£èª¬</h3>
                        <p>${explanation}</p>
                    </div>
                    
                    <div class="text-center">
                        <button onclick="showGameOver()" class="btn-danger text-xl px-8 py-4">
                            <i class="fas fa-redo mr-2"></i>å†’é™ºå†é–‹
                        </button>
                    </div>
                `;
            }
        }

        // å†’é™ºç¶šè¡Œ
        function continueAdventure() {
            if (gameState.defeatedEnemies.length >= 12) {
                showEnding();
            } else {
                showMap();
            }
        }

        // ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼è¡¨ç¤º
        function showGameOver() {
            showScreen('gameOverScreen');
            playBGM(null);
        }

        // ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
        function showEnding() {
            showScreen('endingScreen');
            playBGM('bgmVictory');
        }

        // ã‚²ãƒ¼ãƒ å†é–‹
        function restartGame() {
            gameState = {
                playerPos: { x: 4, y: 4 },
                defeatedEnemies: [],
                currentEnemy: null,
                currentScreen: 'title',
                terrainMap: {} // åœ°å½¢ãƒ‡ãƒ¼ã‚¿ã‚‚ãƒªã‚»ãƒƒãƒˆ
            };
            showScreen('titleScreen');
            playBGM('bgmCastle');
        }

        // å€’ã—ãŸæ•µã®æ•°ã‚’æ›´æ–°
        function updateDefeatedCount() {
            const countElement = document.getElementById('defeatedCount');
            if (countElement) {
                countElement.textContent = gameState.defeatedEnemies.length;
            }
        }

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
        document.addEventListener('keydown', (e) => {
            if (gameState.currentScreen === 'mapScreen') {
                switch(e.key.toLowerCase()) {
                    case 'w': movePlayer(0, -1); break;
                    case 's': movePlayer(0, 1); break;
                    case 'a': movePlayer(-1, 0); break;
                    case 'd': movePlayer(1, 0); break;
                }
            }
        });

        // åˆæœŸåŒ–
        window.addEventListener('load', () => {
            createParticles();
            playBGM('bgmCastle');
        });
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"95a81e626aeb7351","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.6.2","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDlGWjjZF%2FbE0iT1BGRatXARUkMdOdiGUK59shI8UfZnpwrU4Zc9EleYOVcX7P%2BlfbQdeANB4TSpJQ68XaJ9fqk9oQ9oFRMRhq5UKmzYtqgLHGJp8BT1qkKRMAdlTqH9hg7t7A21G5DdqVDNiQrFLLmXIHRHVlLWX6vza8pMgQRYw8gLU8DcrND3K7dJU52FslaethXcZJc6du1oaXpRJG0yzPpDAlyZTr%2BTEMdSKtJ16d%2FofWg9%2FRWRCKhy%2FH4VhUJobhzwNKFKOR7ugCxRlLPpeCNwwQrRgvgra6EhAs9FNIAVc4SHFBeRpGBIrY53jx4FottASavbTYdW3HyyVIi1tZCrplUrTpbuT1APlWGjV9VwobJ7%2BBFA%2Bi3wfqM9BgI2kfZvoIPVh%2FrjxOP%2BubM6AsGrRCRdBRzF3tjH1oXcpW4x0jnlbP5yaGCV%2FN9nheL8xWCOoFuu3qAlU94fDMya6JTJrrLlscbuM05pB%2Bc%2BI%2BmP8voCQLpW2OWOKVb%2BowcHzGU33p%2BuHYQNdVO3CwKE%3D";
        window.__genspark_locale = "ja-JP";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDlGWjjZF/bE0iT1BGRatXARUkMdOdiGUK59shI8UfZnpwrU4Zc9EleYOVcX7P+lfbQdeANB4TSpJQ68XaJ9fqk9oQ9oFRMRhq5UKmzYtqgLHGJp8BT1qkKRMAdlTqH9hg7t7A21G5DdqVDNiQrFLLmXIHRHVlLWX6vza8pMgQRYw8gLU8DcrND3K7dJU52FslaethXcZJc6du1oaXpRJG0yzPpDAlyZTr+TEMdSKtJ16d/ofWg9/RWRCKhy/H4VhUJobhzwNKFKOR7ugCxRlLPpeCNwwQrRgvgra6EhAs9FNIAVc4SHFBeRpGBIrY53jx4FottASavbTYdW3HyyVIi1tZCrplUrTpbuT1APlWGjV9VwobJ7+BFA+i3wfqM9BgI2kfZvoIPVh/rjxOP+ubM6AsGrRCRdBRzF3tjH1oXcpW4x0jnlbP5yaGCV/N9nheL8xWCOoFuu3qAlU94fDMya6JTJrrLlscbuM05pB+c+I+mP8voCQLpW2OWOKVb+owcHzGU33p+uHYQNdVO3CwKE=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>